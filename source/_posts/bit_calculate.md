---
title: "位运算"
date: 2025-10-11 20:46:00
tags: 
    - 算法
    - 位运算
categories:
    - 算法笔记
---

# 位运算

## 目录
- [位运算](#位运算)
  - [目录](#目录)
  - [仅含置位位的最小整数](#仅含置位位的最小整数)
    - [题目描述](#题目描述)
    - [解题思路](#解题思路)
    - [代码实现](#代码实现)
    - [复杂度分析](#复杂度分析)


## 仅含置位位的最小整数

### 题目描述
给你一个正整数 n。

返回 大于等于 n 且二进制表示仅包含 置位 位的 最小 整数 x 。

置位 位指的是二进制表示中值为 1 的位。

 

示例 1：

输入： n = 5

输出： 7

解释：

7 的二进制表示是 "111"。

示例 2：

输入： n = 10

输出： 15

解释：

15 的二进制表示是 "1111"。

示例 3：

输入： n = 3

输出： 3

解释：

3 的二进制表示是 "11"。

 

提示：

1 <= n <= 1000

### 解题思路
1. 朴素思路，从1开始遍历，直到第一个大于n的仅含置位位的整数，即遍历2的i次方减去1
2. 进阶思路，直接计算n的二进制位数m，2的m次方减1，即为所求

### 代码实现
~~~python
# 朴素思路
class Solution:
    def smallestNumber(self, n: int) -> int:
        i = 1
        while(True):
            # num >> i 即num除以2的i次方
            x = (1 << i) - 1 # 左移位，即2的i次方
            if x >= n:
                return x
            i += 1

# 进阶思路
class Solution:
    def smallestNumber(self, n: int) -> int:
        return (1 << n.bit_length()) - 1
~~~

### 复杂度分析
1. 朴素思路需要遍历 log(n)次，时间复杂度为 O(log(n))
2. 进阶思路只需要计算n的二进制位数，时间复杂度为 O(1)


